<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- <script src="http://html2canvas.hertzen.com/dist/html2canvas.js"></script> -->
    <script>
        /* 
            number   普通数字 NaN  isNaN(0)=>false 
            Number([])=>0;
            Number(["12"])=>12;
            Number([12,13])=>NaN;
            parseInt
            parseFloat
            Number(null)=>0;
            Number(undefined)=>NaN
            String   toString() []=>"" 
            Boolean 0,"",NaN,null,undefined=>false;
            null    typeof(null)=>object;
            undefined 

            object  =>Date Array /\d/ Math
            function 

            typeof instanceof constructor Object.prototype.toString.call()
            break continue
            switch=>===;
            Math.abs min/max ceil/floor sqrt/pow PI round random (Math.round(Math.random()*(m-n)+n))
            Array push unshift shift pop splice
                  slice concat
                  join(",") toString
                  lastIndexOf indexOf includes
                  reverse sort=>a-b 升序 b-a 降序
                  forEach
            String  charAt charCodeAt 
                    substr =>索引 个数
                    substring=>索引开始，索引结束（不包括）
                    slice=>索引开始，索引结束（不包括）
                    indexOf lastIndexOf includes
                    toUpperCase toLowerCase
                    split("")=>和数组的join("")对应
                    replace() 新字符，老字符 只能换一次
            Date
                new Date()
                .getFullYear getMouth getDay getDate
                 getHours getMinutes getSeconds
                 getMillseconds getTime  toLocaleDateString
                 toLocaleString

            DOM
                document object model
                document.getElementById
                document.getElementsByName
                document.head
                document.body
                document.documentElement

                context.getElementsByTagName
                context.getElementsByClassName
                context.querySelecotr()
                context.querySelectorAll()
            Node 
                NodeType 元素1 文本3 注释8 文档节点9
                         document.documentElement.nodeType=>1
                         document.nodeType=>9
                childNodes child(不兼容)
                fristChild fristElementChild
                lastChild lastElementChild
                parent
                previousSibling  previousElementSibling
                nextSibling    nextElemnetSibling
            creatElemnt
            creatTextNode
            appendChild  容器.appendChild([新元素])
            insertBefore  容器.insertBefor([新元素],[指定元素])
            cloneNode(true/false)  深克隆 浅克隆
            removeChild 
            setAttribute
            getAttribute 
            removeAttribute 

            clientWidth clientHeight =>padding+宽高
            clientTop clientleft=>边框的宽高
            offsetWidth offset Height=>padding+宽高+border
            offsetTop offsetLeft =>距离浏览器顶部/左边的距离
            offsetParent =>距离元素最近的有position定位的父元素=>没定位=>body
            scrollWidth scollheight 内容没溢出=client 内容溢出 padding+实际内容的宽高
            scrollTop scrollLeft 内容卷去的高/宽

            document.documentElement.clientWidth || document.body.clientWidth
            document.documentElement.scrollTop ||document.body.scrollTop

            window.getComputerStyle([元素],伪类)/[element].currentStyle
        */

        // console.dir(String.prototype);
       /* let str="candywangdisaywangxixihahahehe";
        console.log(str.charAt(0));
        console.log(str.charCodeAt(0));
        console.log(str.substr(0,5));//=>"candy";
        console.log(str.substring(0,5));//=>"candy";
        console.log(str.substring(3,1000));
        
        console.log(str.substring(5,9));//=>"wang"
        console.log(str.slice(5,9));//=>"wang"  
        console.log(str.substring(-9,-5));//=>""
        console.log(str.slice(-9,-5));//=>"ihah"

        console.log(str.indexOf("n"));//=>2
        console.log(str.indexOf("n",3));//=>7
        console.log(str.length)
        console.log(str.lastIndexOf("h"));
        console.log(str.indexOf("xi"));//=>18 验证整体第一次出现的位置，返回的索引是第一个字符所在位置的索引值
    
        console.log(str.includes("z"));//false */
        /* let str="candy!wang!disay!wang!xixi!haha!hehe";
        console.log(str.split("!"));
        console.log(str.split("!").join(",")); */
/*         let str="candy@daisy@lucy";
        console.log(str.replace("@","|"));//candy|daisy@lucy
        console.log(str.replace(/@/g,"|"));

        console.log(!(!"Number(undefined)"));//=>true
        console.log(isNaN(parseInt(new Date()))+Number([1])+typeof undefined);//=>"2undefined"
        console.log(Boolean(Number(""))+!isNaN(Number(null))+Boolean("parseInt([])")+typeof !(null));//=>"2boolean"
        console.log(parseFloat("1.6px")+parseInt("1.2px")+ typeof parseInt(null));//=>"2.6number"
        console.log(isNaN(Number(!!Number(parseInt("0.8")))));//=>false
        console.log(1+"2"+"2");//=>"122"
        console.log(!typeof parseFloat("0"));//false 取反 
        console.log(Number(""));//=>0
        console.log(typeof "parseInt(null)"+12+!!Number(NaN));//=>"string12fasle"
        console.log(!typeof (isNaN(""))+parseInt(NaN));//=>NaN
        console.log(typeof !parseInt(null)+!isNaN(null));//=>"booleantrue" */
       /*  var ary=[12,5,68,23,45,3,27]
        console.dir(Math.max.apply(null,ary)); */

        /* let ary=[21,34,5,31,17,11,2,10];
        // 冒泡排序
        function bubble(ary){
            let temp=null;
            for(var i=0;i<ary.length;i++){
                for(var j=0;j<ary.length-1-i;j++){
                    if(ary[j]>ary[j+1]){
                        temp=ary[j];
                        ary[j]=ary[j+1];
                        ary[j+1]=temp;
                    }
                }
            }
            return ary;
        }
        //插入排序
        function insert(ary){
            let newAry=ary.splice(0,1);
            for(var i=0;i<ary.length;i++){
                for(var j=newAry.length-1;j>=0;j--){
                    if(ary[i]>newAry[j]){
                        newAry.splice(j+1,0,ary[i]);
                        break;
                    }
                    if(j===0){
                        newAry.unshift(ary[i]);
                    }
                }
            }
            return newAry;
        }
        //快速排序
        function quick(ary){
            if(ary.length<=1){
                return ary;
            }
            let mIn=Math.floor(ary.length/2);
            let mVal=ary.splice(mIn,1)[0];
            let leftAry=[],
                rightAry=[];
            for(var i=0;i<ary.length;i++){
                ary[i]>mVal?rightAry.push(ary[i]):leftAry.push(ary[i]);
            }
            return quick(leftAry).concat(mVal,quick(rightAry));
        }
        ary=quick(ary);
        console.log(ary); */
        /* let obj={};
        let fn=(context=window,...args)=>{
            //console.log(arguments);//Uncaught ReferenceError: arguments is not defined 箭头函数没有argument
            console.log(args);
        }
        fn(obj,10,20,30);//=>context：obj arg:[10,20,30]
        fn()//=>context:window  ary:[] */

        /* window.name="win";
        let obj={
            name:'obj'
        }
        let fn=n=>{
            console.log(this.name);
        }
        fn(10);//=>this:window
        fn.call(obj,10);//=>this:window
        fn.apply(obj,[10]);//=>this:window */

        /* let obj={
            name:"obj",
            fn:function(){
                /* setTimeout(function(){
                    console.log(this);
                    this.name="candy";//this=>window;
                },1000) */
                /* let _this=this;
                setTimeout(function(){
                    _this.name="candy";
                }) */
                  /*setTimeout(()=>{
                    console.log(this);
                    this.name="candy"
                },1000)
            }
        } 
       obj.fn(); */
       /* let ary=[10,20,30,40,50];
       let [a,b,...x]=ary;
       console.log(a,b,x); */

       /* let ary=[10,[20,30,[40,50]]];
       let [n,[,,[,m]]]=ary;
       console.log(n,m);//n=>10 m=>50
       let obj={
            name:"candy",
            age:30,
            sex:"female",
            friends:["candice","lily","tom","judy"]
        } */
        //=>创建的变量要和对象的属性名一致（默认）
        /* let {name,years,sex}=obj;
        console.log(name,years,sex);//=>"candy" undefined "female" */

        //=>冒号相当于给获取的结果设置一个别名（变量名），创建一个叫做years的变量存储了obj.age的值
        /* let {age:years}=obj;
        console.log(years);

        let{height="154cm"}=obj;
        console.log(height);//=>"154cm" */

/*         let {
            name,
            friends:[fristFriend]
        }=obj;
        console.log(`my name is ${name},my best friend is ${fristFriend}`)

        let {
            code,
            data:{today,data:calendar}
        }=data; */
        /* let year="2020",
            month="08",
            day="25";
        //=>"你好，今天是2020年08月25日，一年一度的七夕节，愿天下有情人都是兄妹，哈哈！"
        let res=`你好，今天是${year}年${month}月${day}日，今天是一年一度的七夕节，愿天下有情人都是兄妹，哈哈！`
        console.log(res); */

        /* var name="candy",age=30;
        var obj={
            name:'candice',
            objAge:this.age,
            myFun:function(){
                console.log(this.name+this.age);
            }
        }
        obj.objAge;//30;
        obj.myFun();//obj

        var fav="candy";
        function shows(){
            console.log(this.fav)
        }
        shows(); */

        /* function fn(a,b){
            console.log(this);
            console.log(a,b)
        }
        fn.call("hello",1,2);
        Function.prototype.Mycall=function(context){
            context=context?Object(context):window;
            context.fn=this;
            let args=[];
            //利用数组的toString的特性
            for(let i=1;i<arguments.length;i++){
                args.push('arguments['+i+']');
            }
            let r=eval('context.fn('+args+')');
            delete context.fn;
            return r;
        }
        Function.prototype.myApply=function(context,args){
            context=context?Object(context):window;
            context.fn=this;
            if(!agrs){
                return context.fn();
            }
            //利用数组的toString的特性
            let r=eval('context.fn('+args+')');
            delete context.fn;
            return r;
        } 
        fn.call("hello",1,2);
        fn.call("hello",[1,2]);*/

       /*  function Animal(type){
            this.type=type;
        }
        Animal.prototype.say=function(){
            console.log("say");
        }
        function mockNew(){
            let Constructor=[].shift.call(arguments);
            let obj={};
            obj.__proto__=Constructor.prototype;
            let r=Constructor.apply(obj,arguments);
            return r instanceof Object ? r:obj
        }
        //let animal=new Animal("哺乳类");
        let animal=mockNew(Animal,"哺乳类")
        console.log(animal); */
        /* var value=1;
        function foo(){
            console.log(value);
        }
        function bar(){
            var value=2;
            foo();
        }
        bar();//=>1
        function Human(name,job,age){
            this.name=name;
            this.job=job;
            this.age=age;
        }
        Human.prototype.sayHi=function(){
            console.log("hello,my name is"+this.name);
        } */
        //新建实例对象
        /* var person=new Human("candy","programmer",30);
        console.log(person.__proto__=== Human.prototype);
        console.log(person.__proto__.__proto__=== Object.prototype);
        console.log(person.hasOwnProperty("name"));//=>true
        console.log(person.hasOwnProperty("sayHi"));//=>false
        console.log('sayHi' in person);//=>true */

      /*   let arr=[];
        let reg=/^$/;
        console.log(arr instanceof Array);//=>true
        console.log(reg instanceof Array);//=>false
        console.log(reg instanceof RegExp);
        console.log(reg instanceof Object); */
        /* let n=12,
            arr=[];
        console.log(n.constructor===Number);
        console.log(arr.constructor===Array);//=>true
        console.log(arr.constructor===Object);//=>false
        arr.constructor=111;
        console.log(arr.constructor===Array);//false
        let _obj={};
        console.log(_obj.toString.call(100))//=>"[object Number]"

        console.log(typeof 1); */
        /* var obj={
            isNumber:"Number",
            isString:"String",
            isBoolean:"Boolean",
            isFunction:"Function",
            isPlainObject:"Object",
            isNull:"Null",
            isUndefined:"undefined",
            isArray:"Array",
            isWindow:"Window",
            isDate:"isDate",
            isRegExp:"RegExp"
        }
        var _toString=obj.toString;
        var type={};
        for(var key in obj){
            if(!obj.hasOwnProperty(key)) break;
            type[key]=(function(){
                let reg=new RegExp("\\[object "+obj[key]+"\\]");
                return function(val){
                    return reg.test(_toString.call(val))
                }
            })()
        }
        console.log(type.isNumber("hehe")); */

        /* function Fn(){
            var n=10;
            this.m=20;
            this.aa=function(){
                console.log(this.m);
            }
        }
        Fn.prototype.bb=function(){
            console.log(this.n);
        }
        var f1=new Fn;
        Fn.prototype={
            aa:function(){
                console.log(this.m+10);
            }
        }
        var f2=new Fn;
        console.log(f1.constructor);
        console.log(f2.constructor);
        f1.bb();
        f1.aa();
        f2.bb();
        f2.aa();
        f2.__proto__.aa();*/
        //原型链继承
       /*  function Animal(){
            this.eat=function(){
                console.log("animal eat");
            }
        }
        function Dog(){
            this.bark=function(){
                console.log('dog bark')
            }
        }
        Dog.prototype=new Animal();
        var hashiqi=new Dog(); */
        /* const o1={a:1};
        const o2={b:2};
        const o3={c:3};

        const obj=Object.assign(o1,o2,o3);
        console.log(obj);
        console.log(o1);
        console.log(o2);
        console.log(o3); */
        /* const o1 = { a: 1, b: 1, c: 1 };
        const o2 = { b: 2, c: 2 };
        const o3 = { c: 3 };

        const obj = Object.assign({}, o1, o2, o3);
        console.log(obj)
        console.log(o1) */
          /* var a={},b="123",c=123;
        a[b]="b",
        a[c]="c";
        console.log(a[b]);

     var a={},b=Symbol("123"),c=Symbol("123");
        a[b]="b",
        a[c]="c";
        console.log(a[b]);*/
        
        /* var a={},b={key:'123'},c={key:'456'};
        a[b]="b",
        a[c]="c";
        console.log(a[b]);  */
        /* let str="http://www.candy.com.cn/index.html?name=candy#text"
        let reg=/^(?:(http|https|ftp):\/\/)?((?:[\w-]+\.)+[a-z0-9]+)((?:\/[^/?#]*)+)?(\?[^#]+)?(#.+)?$/i;
        console.log(reg.exec(str)); */

        /* function Foo(){
            Foo.a=function(){
                console.log(1)
            }
            this.a=function(){
                console.log(2)
            }
        }
        Foo.prototype.a=function(){
            console.log(3);
        }
        Foo.a=function(){
            console.log(4);
        }
        Foo.a();//=>4
        let obj=new Foo();
        obj.a();//=>2
        Foo.a();//=>1 */

        /* let str="good good study , day day up!";
        //=>学正则式就是用来制定规则(是否包含数字)
        let reg=/\d+/;
        reg.test(str);//=>false

        str="2020-09-08" */
        /* let reg=/^\D/;
        console.log(reg.test("candy2019"));
        console.log(reg.test("candy"));
        console.log(reg.test("2020candy")); */
        /* let type="candy";
        let reg=/^@"+type+"@$/;
        reg=new RegExp("^@"+type+"@$");
        console.log(reg.test("@candy@"));//=>true
        reg="/^@"+type+"@$/";
        console.log(eval(reg).test("@candy@"));//=>true */

        /* let str="goodgoodstudy,daydayupoh!"; */
        /* let obj={};
        [].forEach.call(str,(item)=>{
            if(typeof obj[item]!=="undefined"){
                obj[item]++;
                return;
            }
            obj[item]=1;
        })
        /* let max=1;
        for(let key in obj){
            let item=obj[key];
            item>max?max=item:null;
        }

        let max=Math.max(...Object.values(obj));
        let res=[];
        for(let key in obj){
            if(max==obj[key]){
                res.push(key);
            }
        };  */
  
        /* //字符串排序
        str=str.split("").sort((a,b)=>a.localeCompare(b)).join("");
        let reg=/([a-zA-Z])\1+/g;// \1表示重复正则第一个圆括号内匹配到的内容
        let ary=str.match(reg).sort((a,b)=>b.length-a.length);
        let max=ary[0].length,
            res=[ary[0].substr(0,1)];
        for(let i=1;i<ary.length;i++){
            if(ary[i].length<max){
                break;
            }
            res.push(ary[i].substr(0,1));
        } */
        //=>第三种方法：
       /*  let  max=0,
        res=[];
        while(str){
            let oldStrLen=str.length;
            let letter=str.substr(0,1);
            let reg=new RegExp(letter,"g");
            str=str.replace(reg,"");
            let newStrLen=str.length;
            let count=oldStrLen-newStrLen;
            if(max<count){
                max=count;
                res.push(letter);
            }
        }
        console.log(`出现的次数最多的字母是${res}，出现了${max}次。`) */

        //千分符
       /*  ~function(){ */
            /* function millimeter(){
                let ary=this.split("").reverse();
                for(let i=3;i<ary.length;i+=4){
                    ary.splice(i,0,",");
                }
                return ary.reverse().join("");
            } */
            /* function millimeter(){
                let ary=this.split("");
                for(let i=ary.length-3;i>0;i-=3){
                    ary.splice(i,0,",")
                }
                return ary.join("");
            } */
            /* function millimeter(){
                let reg=new RegExp("(\\d{"+(this.length%3)+"})");
                let newS=this.replace(reg,"$1,").replace(/(\d{3})/g,"$1,")
                return newS.substr(0,newS.length-1)
            } */
            /* function millimeter(){
                let reg=/\d{1,3}(?=(\d{3})+$)/g;
                return this.replace(/\d{1,3}(?=(\d{3})+$)/g,(content)=>{
                    return content+","
                })
            } 
            String.prototype.millimeter=millimeter;
        }()
        let num="12345678909876544";
        console.log(num.millimeter()); */
        /* let str="no作no死，你能你can,不能no哔哔！",
            reg=/\b[a-z]+\b/ig;
        str=str.replace(reg,content=>{
            return " "+content+" ";
        }).trim();
        console.log(str); */
        // let arr=[[1,2,2],[3,4,5,5],[6,7,8,9,[11,12,[12,13,[14]]]],10];
        // str=arr+",";//=>"1,2,2,3,4,5,5,6,7,8,9,11,12,12,13,14,10"
        // let reg=/(\d+,)\1*/g;
        // let arr1=[];
        // str.replace(reg,(content,$1)=>{
        //     $1=Number($1.slice(0,$1.length-1));
        //     arr1.push($1);
        // })
        // arr1.sort((a,b)=>{
        //     return a-b;
        // })
        /* while(arr.some(item=>Array.isArray(item))){
            arr=[].concat(...arr);
        }
        console.log(arr); */

        /* ~function(){
            function myFlat(){
                let result=[],
                    _this=this;
                let fn=(arr)=>{
                    for(let i=0;i<arr.length;i++){
                        let item=arr[i];
                        if(Array.isArray(item)){
                            fn(item);
                            continue;
                        }
                        result.push(item);
                    }
                }
                fn(_this);
                return result;
            }
            Array.prototype.myFlat=myFlat;
        }();
        console.log(arr.myFlat()); */
    /* let arr1=["D1","D2","A1","A2","B1","B2","C1","C2"];
    let arr2=["A","B","C","D"];
    let str1=arr1.toString()+",";
    arr2.forEach(item=>{
        let reg=new RegExp("("+item+"\\d,)+","g");
        str1=str1.replace(reg,x=>{
            console.log(x);
            return x+item+",";
        });
    })
    arr=str1.split(",");
    arr.length--;
    console.log(arr); */
    /* for(var i=0;i<10;i++){
        var fn=(i)=>{
            console.log(i);
        };
        setTimeout(fn.bind(null,i),5000);
    } */
    /* Object.defineProperty(window,"a",{
        get:function(){
            this.value?this.value++:this.value=1;
            return this.value;
        }
    })
    if(a==1 && a==2 && a==3){
        console.log("ok");
    } */
    /* let obj={
        2:3,
        3:4,
        length:2,
        push:Array.prototype.push
    }
    console.log(obj.push(1));//obj.myPush(1)=>obj[2]=1=>obj.length=3;
    obj.push(2);//obj.myPush(2)=>obj[3]=2=>obj.length=4
    console.log(obj); //=>{2:1,3:2,length:4,push:fun} */

   /*  Array.prototype.push=function myPush(val){
        this[this.length]=val;
        return this.length;
    }
    [12,23].push(100); */
/*     let ary=[12,8,23,16,1];
    
    function bubble(ary){
        for(var i=0;i<ary.length-1;i++){
            for(var j=0;j<ary.length-1-i;j++){
                if(ary[j]>ary[j+1]){
                    let cur=ary[j];
                    ary[j]=ary[j+1];
                    ary[j+1]=cur;
                }
            }
        }
        return ary;
    }
    function insert(ary){
        let newAry=ary.splice(0,1);
        for(var i=0;i<ary.length;i++){
            for(j=newAry.length-1;j>=0;j--){
                let cur=ary[i];
                if(cur>newAry[j]){
                    newAry.splice(j+1,0,cur);
                    break;
                }
                if(j===0){
                    newAry.unshift(cur);
                }
            }
        }
        return newAry;
    }
    function quick(ary){
        if(ary.length<=1){
            return ary;
        }
        let curIn=Math.floor(ary.length/2);
        let middleVal=ary.splice(curIn,1)[0];
        let leftAry=[];
        let rightAry=[];
        for(var i=0;i<ary.length;i++){
            let cur=ary[i];
            cur>middleVal?rightAry.push(cur):leftAry.push(cur);
        }
        return quick(leftAry).concat(middleVal,quick(rightAry));
    } */
    /* let obj={
        1:222,
        2:123,
        5:888
    } */
    /* let ary=[];
    for(var i=1;i<=12;i++){
        ary[i]=obj[i]?obj[i]:null;
    }
    ary.shift(); */
    /* let ary=new Array(12).fill(null).map((item,index)=>{
        return obj[index+1] || null;
    }) */
    /* obj.length=13;
    let ary=Array.from(obj).slice(1).map(item=>{
        return typeof item === "undefined" ? null :item;
    });
    delete obj.length;
    console.log(ary); */
    /* let arr1=[1,2,2,1,2];
    let arr2=[2,2];
    let arr=[];
    arr1.forEach((item,index)=>{
        if(arr2.includes(item)){
            let n=arr2.indexOf(item);
            arr2.splice(n,1);
            arr.push(item);
        }
    }); */
    /* for(var i=0;i<arr1.length;i++){
        for(var j=0;j<arr2.length;j++){
            if(arr1[i]==arr2[j]){
                arr.push(arr2[j]);
                arr2.splice(j,1);
                break;
            }
        }
    } */
    /* let arr=[1,2,3,4,5,6,7];//=>(k=3)=>[5,6,7,1,2,3,4]
    ~function(){
        function rotate(k){
            if(k<0||k===0||k===this.length) return this;
            if(k>this.length) k=k%this.length;
            //return  this.slice(-k).concat(this.slice(0,this.length-k));
            //return this.splice(-k).concat(this);
            //return [...this.splice(-k),...this]
            /* for(let i=0;i<k;i++){
                this.unshift(this.pop());
            }
            return this; */
           /*  new Array(k).fill(null).forEach(()=> this.unshift(this.pop()))
            return this;
        }
        Array.prototype.rotate=rotate;
    }()
    console.log(arr.rotate(3).rotate(3)) */ 
    ~function(){
        function myBind(context=window,...arg){
            let _this=this;
            return function(){
                _this.apply(context,arg);
            }
        }
        Function.prototype.myBind=myBind;
    }()
    let obj={
        name:"OBJ"
    }
    function fn(...arg){
        console.log(this,arg);
    }
    fn.bind(obj,100,200)();
    </script> 
</body>
</html>
